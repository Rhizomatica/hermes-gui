<loading [loading]="loading"></loading>
<div class="radiophony" *ngIf="radio !== null">
  <div class="row">
    <h2 i18n="@@loadingfrequency" *ngIf="!radio.freq">
      loading radio status...
    </h2>
    <span class="fullfrequency" *ngIf="radio.freq && placesArray">
      <div *ngIf="!inputFrequencyFlag" (click)="showInputFrequency()">
        {{radio.freq}}
        <!-- <span *ngFor="let digit of placesArray; let i = index" class="{{step == i ? 'color': ''}}">{{digit}}<span
            *ngIf="i % 3 == 0 && i !== placesArray.length - 3">,</span><span
            *ngIf="i == placesArray.length - 3">.</span>
        </span> -->
        <span class="text-sm"> kHz</span>
      </div>
    </span>
    <div *ngIf="inputFrequencyFlag">
      <span i18n="@@currentFrequencyVoice">Current voice frequency: {{radio.freq}} kHz</span>
      <form #ffreq="ngForm" class="formdata field">
        <input type="number" class="midbt m-t-10" [min]="freqmin" [max]="freqmax" name="frequency"
          [(ngModel)]="frequency" value={{frequency}}>
        <button class="midbt" (click)="changeFrequency(ffreq)" [disabled]="ffreq.invalid" i18n="@@changefreqr0">
          change frequency
        </button>
        <button class="m-t-10" (click)="showInputFrequency()" i18n="@@cancelchangevoicefrequency">
          cancel
        </button>
      </form>
    </div>
  </div>
  <div class="row" *ngIf="!inputFrequencyFlag && radio.freq">
    <button (click)="changeStep()" *ngIf="!inputFrequencyFlag">step</button>
    <div class="float-right flex-right">
      <span>USB</span>
      <div class="switch">
        <input type="checkbox" name="mode" [checked]="modeSwitch" value="{{radio.mode}}" [checked]="modeSwitch">
        <span class="slider round-uc" (click)="changeMode($event)"></span>
      </div>
      <span>LSB</span>
    </div>
  </div>
</div>
<div class="overall alert" [hidden]="errorAlert==false">
  <div class="cv">
    <span i18n="@@errorcustomerror">There was an error on precessing your request <br /><br /></span>
    <span>{{error}}</span>
    <div class="icon"><a (click)="closeError()">
        <img title="close" src="assets/svg/x.svg"></a>
    </div>
  </div>
</div>